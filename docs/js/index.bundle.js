!function(){"use strict";(()=>{const e=document.querySelector(".overlay"),o=document.querySelector(".overlay__wrapper"),t=document.querySelector(".popup__btn");document.addEventListener("click",(r=>{r.target!==t&&r.target!==o||(e.style.display="none")}))})(),(()=>{const e=document.getElementById("form"),o=document.querySelector(".overlay");try{if(!e)throw new Error("Верните форму на место!");e.addEventListener("submit",(t=>{if(t.preventDefault(),!(()=>{const t=e.querySelectorAll(".form__el"),r=new FormData(e),c={};try{t.forEach((e=>{e.classList.remove("form__error"),document.querySelector(".select2-selection--single").classList.remove("form__error"),document.querySelector(".select2-selection__placeholder").style.color=""}));let e=!1;if(r.forEach(((o,t)=>{"subject"===t&&""===o?(document.querySelector(".select2-selection--single").classList.add("form__error"),document.querySelector(".select2-selection__placeholder").style.color="#ef5c53",e=!0):("email"===t&&""===o||"name"===t&&""===o||"message"===t&&""===o)&&(document.getElementsByName(t)[0].classList.add("form__error"),e=!0),c[t]=o})),e)throw new Error("Заполните обязательные поля");console.log(c)}catch(e){return console.log(e.message),!1}var l;return t.forEach((e=>{e.classList.remove("form__error")})),(l=c,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(l),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((async e=>{o.style.display="block",t.forEach((e=>{e.value=""})),await new Promise(((e,o)=>setTimeout(e,3e3))),o.style.display="none"})).catch((e=>{console.log(e.message)})),!0})())throw new Error("Не все поля заполнены")}))}catch(e){console.log(e.message)}})(),$("#form__select").select2({width:"100%",placeholder:"Select Subject",allowClear:!1,minimumResultsForSearch:1/0});const e=document.querySelector("#input-tel");Inputmask("1-999-999-9999",{placeholder:"X",greedy:!1,clearMaskOnLostFocus:!0}).mask(e)}();