!function(){"use strict";(()=>{const e=document.querySelector(".overlay"),r=document.querySelector(".overlay__wrapper"),o=document.querySelector(".popup__btn");document.addEventListener("click",(t=>{t.target!==o&&t.target!==r||(e.style.display="none")}))})(),(()=>{const e=document.getElementById("form"),r=document.querySelector(".overlay");try{if(!e)throw new Error("Верните форму на место!");e.addEventListener("submit",(o=>{if(o.preventDefault(),!(()=>{const o=e.querySelectorAll(".form__el"),t=new FormData(e),s={};try{o.forEach((e=>{e.classList.remove("form__error")})),t.forEach(((e,r)=>{if("subject"===r&&"placeholder"===e)throw document.getElementsByName(r)[0].classList.add("form__error"),new Error("Заполните поле Subject");if("email"===r&&""===e)throw document.getElementsByName(r)[0].classList.add("form__error"),new Error("Заполните поле E-mail");if("name"===r&&""===e)throw document.getElementsByName(r)[0].classList.add("form__error"),new Error("Заполните поле Name");if("message"===r&&""===e)throw document.getElementsByName(r)[0].classList.add("form__error"),new Error("Заполните поле Question");s[r]=e})),console.log(s)}catch(e){return console.log(e.message),!1}var n;return o.forEach((e=>{e.classList.remove("form__error")})),(n=s,fetch("https://jsonplaceholder.typicode.com/posts",{method:"POST",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).then((e=>e.json()))).then((async e=>{r.style.display="block",o.forEach((e=>{e.value=""})),await new Promise(((e,r)=>setTimeout(e,3e3))),r.style.display="none"})).catch((e=>{console.log(e.message)})),!0})())throw new Error("Не все поля заполнены")}))}catch(e){console.log(e.message)}})()}();